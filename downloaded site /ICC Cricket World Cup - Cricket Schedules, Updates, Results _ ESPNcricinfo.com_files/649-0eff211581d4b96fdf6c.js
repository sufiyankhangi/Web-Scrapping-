"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{43781:function(t,e,n){var o=n(1717),r=n(6952),i=n(88742),c=n.n(i),a=n(60042),d=n.n(a),s=n(27378),u=n(78392),f=n(36077),l=n(5273),p=n(2251),v=n(1305),m=n(37182),O=n(62882),g=n(35294),h=n.n(g),b=n(4550),y=n(66584),j=n(24246);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}e.Z=function(t){var e=t.poll,n=t.className,i=(0,s.useState)(null),a=i[0],g=i[1],P=(0,s.useState)(e),T=P[0],N=P[1],U=T.title,S=T.objectId,I=T.id,_=T.options,w=T.generatedAt,L=T.modifiedAt,A=0;_.forEach((function(t){A+=t.votes})),(0,u.Z)((function(){var t,e=null===(t=(0,m.Vy)(O.dm.POLL_ANSWERS,[]))||void 0===t?void 0:t.find((function(t){return t.includes("".concat(S,":"))}));e&&g(parseInt(e.split(":")[1],10)),(new Date).getTime()-new Date(w).getTime()>6e4?(new Date).getTime()-new Date(L).getTime()<1728e5&&(0,r.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N,t.next=3,(0,y.UN)().getPollInfo({pollId:S,latest:!0});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))():e&&(0,r.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=N,t.next=3,(0,y.UN)().getPollInfo({pollId:S,latest:!0});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()}));var D=function(t){if(a)return null;var e="".concat(b.Z.global.submitBaseUrl,"/ci/content/submit/poll/poll_v2.json?object_id=").concat(S,"&content_id=").concat(I,"&vote=1&poll_id=").concat(t.id,"&mode=POSITIVE");h()(e,{timeout:3e3}).then((function(t){return t.json()})).then((function(e){(0,m.eW)(O.dm.POLL_ANSWERS,"".concat(S,":").concat(t.id)),g(t.id),N((function(t){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),r={};return n.options.forEach((function(t){r[t.id]=t})),e.vote.forEach((function(t){r[t.optionId]&&(r[t.optionId].votes=t.count)})),n}))}))};return(0,j.jsxs)("div",{className:d()("ds-bg-fill-content-alternate ds-p-3",n),children:[(0,j.jsxs)("div",{className:"ds-flex ds-items-center ds-justify-between",children:[(0,j.jsxs)("div",{className:"ds-flex",children:[(0,j.jsx)(f.ZP,{name:p.v.POLL_OUTLINE,size:f.XR.SM}),(0,j.jsx)(l.ZP,{variant:l.Fu.TITLE_SUBTLE_M,className:"ds-ml-1",children:U})]}),(0,j.jsxs)(l.ZP,{variant:l.Fu.COMPACT_XS,className:"ds-text-typo-paragraph-light",children:[A>=1e3?(A/1e3).toFixed(1):A," votes"]})]}),(0,j.jsx)("div",{className:d()("ds-grid ds-gap-1 ds-mt-4 ds-grid-cols-1",_.length>3?"lg:ds-grid-cols-1":"lg:ds-grid-cols-3"),children:_.map((function(t,e){var n=A>0?Math.round((0,v.Ux)(t.votes,A)):0;return(0,j.jsxs)("div",{className:d()("ds-bg-ui-fill ds-border ds-border-line ds-rounded-lg ds-p-2 ds-relative ds-flex ds-justify-between ds-items-center",{"ds-cursor-pointer":!a}),onClick:function(){return D(t)},children:[(0,j.jsx)("div",{className:"ds-bg-raw-blue20 ds-absolute ds-left-0 ds-top-0 ds-h-full ds-rounded-lg ds-transition-all",style:{width:a?"".concat(n,"%"):0}}),(0,j.jsx)(l.ZP,{element:"div",variant:l.Fu.COMPACT_XS_MEDIUM,children:t.title}),a?(0,j.jsxs)(l.ZP,{element:"div",variant:l.Fu.COMPACT_XS_MEDIUM,children:[a===t.id?"You & ":""," ",n,"%"]}):null]},e)}))})]})}},22e3:function(t,e,n){n.d(e,{Kv:function(){return f},aH:function(){return l},vl:function(){return m},$i:function(){return O},RW:function(){return g},EL:function(){return b},Tj:function(){return y},uZ:function(){return j}});var o=n(1717),r=n(27693),i=n.n(r),c=n(2251),a=n(73627),d=n(37707);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(t){var e="";return t.items.forEach((function(t){if(t.type===a.tX.HTML){var n=t;e+=(0,d.Z)(n.html)}})),e},l=function(t){switch(t.type){case a.Rn.VIDEO:return c.v.PLAY_CIRCLE_OUTLINE;case a.Rn.TEXT:return c.v.TEXT_SNIPPET_OUTLINE;case a.Rn.POLL:return c.v.POLL_OUTLINE;case a.Rn.INSTAGRAM:return c.v.INSTAGRAM_LOGO;case a.Rn.TWITTER:return c.v.TWITTER_LOGO;default:return c.v.TEXT_SNIPPET_OUTLINE}},p=function(t){return 1===t?"min":"mins"},v=function(t){return 1===t?"hr":"hrs"},m=function(t){var e=t.publishedAt,n=t.modifiedAt,o=t.showModifiedAt,r=t.showPublishedAt,c=i()(),a=i()(e),d=a.utc(),s=i()(n),u=c.diff(a,"hour"),f=c.diff(a,"minute"),l=c.diff(s,"hour"),m=c.diff(s,"minute"),O=0===s.diff(a,"second"),g="DD-MMM-YYYY";if(r&&!o)return f<=60?"".concat(f," ").concat(p(f)," ago"):u<24?"".concat(u," ").concat(v(u)," ago"):d.format(g);if(o&&!r)return m<=60?"Updated ".concat(m," ").concat(p(m)," ago"):l<24?"Updated ".concat(l," ").concat(v(l)," ago"):"Updated on ".concat(s.format(g));if(r&&o)if(u<24){if(l-u<24){if(m<=60)return"Today \u2022 Updated ".concat(m," ").concat(p(m)," ago");if(l<24)return"Today \u2022 Updated ".concat(l," ").concat(v(l)," ago")}if(f<=60)return"".concat(f," ").concat(p(f)," ago");if(u<24)return"".concat(u," ").concat(v(u)," ago")}else{if(m<=60)return"".concat(d.format(g)," \u2022 Updated ").concat(m," ").concat(p(m)," ago");if(l<24)return"".concat(d.format(g)," \u2022 Updated ").concat(l," ").concat(v(l)," ago");if(O||0===s.diff(a,"day"))return d.format(g);if(s.diff(a,"day")>0)return"".concat(d.format(g)," \u2022 Updated on ").concat(s.format(g))}return""},O=function(t,e){var n=i()(),o=i()(t.publishedAt),r="DD-MMM-YYYY",c="Published ".concat(o.format(r));o.format(r)===n.format(r)&&(c="Published Today");var a="";if(e){var d=i()(e.publishedAt),s=n.diff(d,"second"),u=n.diff(d,"minute"),f=n.diff(d,"hour");a=s<60?"Updated ".concat(s," ").concat(1===s?"sec":"secs"," ago"):u<60?"Updated ".concat(u," ").concat(p(u)," ago"):f<24?"Updated ".concat(f," ").concat(v(f)," ago"):"Updated ".concat(d.format(r))}return""!==a?"".concat(a," \u2022 ").concat(c):c},g=function(t){var e=i()(),n=i()(t.publishedAt),o=e.diff(n,"hour"),r=e.diff(n,"minute"),c=e.diff(n,"second");return c<60?"".concat(c,"s ago"):r<60?"".concat(r,"m ago"):o<24?"".concat(o,"h ago"):"".concat(n.format("DD MMM YYYY, h:mm a"))},h=[{unicode:"U+1F44F",skintone:a.sU.SKIN_TONE_NEUTRAL},{unicode:"U+2764",skintone:a.sU.SKIN_TONE_NEUTRAL},{unicode:"U+1F525",skintone:a.sU.SKIN_TONE_NEUTRAL},{unicode:"U+1F62D",skintone:a.sU.SKIN_TONE_NEUTRAL}],b=function(t,e){var n={};e.forEach((function(t){n[t.id]=t}));var o=[];return t.forEach((function(t){var e=u({},t),r=n[e.id];r&&r.reactionStat&&(e.reactionStat?i()(r.reactionStat.modifiedAt).valueOf()>i()(e.reactionStat.modifiedAt).valueOf()&&(e.reactionStat=r.reactionStat):e.reactionStat=r.reactionStat);o.push(e)})),o},y=function(t){var e=i()(),n=i()(t.publishedAt),o=e.diff(n,"second"),r=e.diff(n,"minute"),c=e.diff(n,"hour"),a=e.diff(n,"day"),d=e.diff(n,"month"),s=e.diff(n,"year");return o<60?"".concat(o,"s"):r<60?"".concat(r,"min"):c<24?"".concat(c,"h"):a<31?"".concat(a,"d"):d<12?"".concat(d,"m"):"".concat(s,"y")},j=function(t){var e,n=t.reactionStat;if(n){var o=[],r={};n.emojis.forEach((function(t){var e="".concat(t.unicode,"-").concat(t.skintone);r[e]=t})),h.forEach((function(t){var e="".concat(t.unicode,"-").concat(t.skintone),n=r[e];n?o.push(n):o.push({unicode:t.unicode,skintone:t.skintone,count:0})})),e=u(u({},n),{},{emojis:o})}else e={id:123,emojis:h.map((function(t){return{unicode:t.unicode,skintone:t.skintone,count:0}})),share:0,modifiedAt:i()().toISOString()};return u(u({},t),{},{reactionStat:e})}},25867:function(t,e,n){var o=n(1717),r=n(31750),i=(n(27378),n(60042)),c=n.n(i),a=n(27693),d=n.n(a),s=n(50348),u=n(7839),f=n(62882),l=n(29198),p=n(32549),v=n(10626),m=n(66584),O=n(73627),g=n(24246),h=["video","size","variant","contentType","action","override","hide","className","modal","imgVariant","imgSize","imgLazy","onClick","mediaInfo","autoplay"];function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.Z=function(t){var e,n,o=t.video,i=t.size,a=t.variant,b=t.contentType,j=t.action,E=t.override,P=t.hide,T=t.className,N=t.modal,U=t.imgVariant,S=t.imgSize,I=t.imgLazy,_=t.onClick,w=t.mediaInfo,L=void 0===w||w,A=t.autoplay,D=void 0!==A&&A,M=(0,r.Z)(t,h),k=o.title,x=o.summary,C=(o.genreId,o.genreName),Y=o.publishedAt,R=o.imageUrl,Z=null!==(e=null===E||void 0===E?void 0:E.title)&&void 0!==e?e:k,z=null!==(n=null===E||void 0===E?void 0:E.summary)&&void 0!==n?n:x,V=null!==E&&void 0!==E&&E.imageUrl?null===E||void 0===E?void 0:E.imageUrl:R||void 0,F=[];Y&&F.push({label:(0,g.jsx)("time",{children:d()(Y).format("MMM DD, YYYY")})});return(0,g.jsx)(l.Z,{video:o,modal:N,autoplay:D,className:T,embedPlayerSelector:!1===N?".embedVideoCnt":void 0,children:function(t){return function(t){var e=void 0;L&&(o.origin.type===O.i0.CLIP?e=(0,v.zj)(o.duration):o.origin.type===O.i0.LIVE_STREAM&&(e="LIVE"));var n={type:u.f$.IMAGE_MEDIA,mediaType:p._L.VIDEO,info:e,imageUrl:V||f.DN.LAZYIMAGE_PLACEHOLDER,alt:Z||"",variant:U,size:S,lazy:I};return!t.showPlayer||o.origin.type!==O.i0.YOUTUBE&&!1!==N||(n={type:u.f$.NODE,node:(0,g.jsx)("div",{className:"ds-w-full",onClick:function(t){t.stopPropagation(),t.preventDefault()},children:t.player})}),(0,g.jsx)(u.ZP,y(y({className:T,variant:a,size:i,title:null!==P&&void 0!==P&&P.title?void 0:Z,description:null!==P&&void 0!==P&&P.description?void 0:z,category:null!==P&&void 0!==P&&P.category?void 0:C||void 0,anchorType:{href:(0,s.Hb)(o),data:y({},j&&{action:j}),onClick:function(){return(!_||!1!==_())&&(void 0!==N?(j&&(0,m.Yg)().trackEvent(j),t.setVideoPlayerState({type:"PLAY"}),o.origin.type===O.i0.YOUTUBE):void 0)}},contentType:b,media:n,attributes:null!==P&&void 0!==P&&P.attributes?void 0:F},M),{},{mediaContainerClassName:c()(M.mediaContainerClassName,!1===N?"embedVideoCnt":void 0)}))}(t)}})}}}]);